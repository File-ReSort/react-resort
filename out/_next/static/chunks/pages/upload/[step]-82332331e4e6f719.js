(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[926],{1655:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/upload/[step]",function(){return t(169)}])},169:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return X}});var r={};t.r(r),t.d(r,{W_:function(){return O},xv:function(){return U},dJ:function(){return P}});var i=t(5893),s=t(9008),l=t.n(s),c=t(1320),o=t.n(c),a=t(1163),d=t(1664),u=t.n(d),h=t(7294);function x(){let[e,n]=(0,h.useState)("none");return(0,i.jsx)("div",{style:{display:"flex"},children:(0,i.jsxs)("div",{style:{backgroundColor:"#fff",padding:"40px 60px"},children:[(0,i.jsxs)("nav",{defaultValue:"first",children:[(0,i.jsx)("p",{children:"Try a Sample Document"}),(0,i.jsx)("p",{children:"File Upload"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("input",{placeholder:"Enter document title here",label:"Title"}),(0,i.jsxs)("table",{style:{minWidth:"500px"},children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Name"}),(0,i.jsx)("th",{children:"Size"}),(0,i.jsx)("th",{})]})}),(0,i.jsx)("tbody",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"example.txt"}),(0,i.jsx)("td",{}),(0,i.jsx)("td",{})]})})]})]}),(0,i.jsx)("div",{style:{display:"flex",justify:"right"},children:(0,i.jsx)(u(),{href:"/upload/2",children:(0,i.jsx)("button",{children:"Continue"})})})]})})}var p=t(7297),f=t(761),j=t(6391),m=t(7493);function v(){let e=(0,p.Z)(["\n          cursor: pointer;\n          color: ",";\n        "]);return v=function(){return e},e}function g(){let e=(0,p.Z)(["\n          font-size: 18px;\n          vertical-align: text-bottom;\n        "]);return g=function(){return e},e}function _(){let e=(0,p.Z)(["\n          & > * {\n            display: inline-block;\n          }\n          & > * + * {\n            margin-left: 15px;\n          }\n        "]);return _=function(){return e},e}function b(){let e=(0,p.Z)(["\n          position: relative;\n          padding: 1px 18px 17px;\n          margin: 0 -20px;\n          border-bottom: 6px solid #c7d7eb;\n          margin-bottom: 6px;\n        "]);return b=function(){return e},e}t(3935);let N=h.forwardRef((e,n)=>{let{className:t,active:r,reversed:s,...l}=e;return(0,i.jsx)("span",{...l,ref:n,className:(0,f.cx)(t,(0,f.iv)(v(),s?r?"white":"#aaa":r?"black":"#ccc"))})}),E=h.forwardRef((e,n)=>{let{className:t,...r}=e;return(0,i.jsx)("span",{...r,ref:n,className:(0,f.cx)("material-icons",t,(0,f.iv)(g()))})}),y=h.forwardRef((e,n)=>{let{className:t,...r}=e;return(0,i.jsx)("div",{...r,ref:n,className:(0,f.cx)(t,(0,f.iv)(_()))})}),w=h.forwardRef((e,n)=>{let{className:t,...r}=e;return(0,i.jsx)(y,{...r,ref:n,className:(0,f.cx)(t,(0,f.iv)(b()))})});function C(){let e=(0,p.Z)(["\n      font-size: 0;\n    "]);return C=function(){return e},e}function Z(){let e=(0,p.Z)(["\n        margin: 0 0.1em;\n        background-color: #e7f5ff;\n        padding: 1px 6px;\n        border: 1px solid #74c0fc;\n        font-size: 0.9em;\n      "]);return Z=function(){return e},e}function k(){let e=(0,p.Z)(["\n              padding-left: 0.1px;\n            "]);return k=function(){return e},e}let R=e=>{e.selection&&D(e)},T=e=>{let[n]=m.ML.nodes(e,{match:e=>!m.ML.isEditor(e)&&m.W_.isElement(e)&&"button"===e.type});return!!n},S=e=>{m.YR.unwrapNodes(e,{match:e=>!m.ML.isEditor(e)&&m.W_.isElement(e)&&"button"===e.type})},D=e=>{T(e)&&S(e);let{selection:n}=e,t=n&&m.e6.isCollapsed(n),r={type:"button",tag:"PERSON",children:t?[{text:"Edit me!"}]:[]};t?m.YR.insertNodes(e,r):(m.YR.wrapNodes(e,r,{split:!0}),m.YR.collapse(e,{edge:"end"}))},A=()=>(0,i.jsxs)("span",{contentEditable:!1,className:(0,f.iv)(C()),children:["$",String.fromCodePoint(160)]}),L=e=>{let n,t,{attributes:r,children:s,element:l}=e,c=l.value;switch(l.tag){case"PERSON":n="#f4e7ff",t="#ce94ff";break;case"LEGAL_ORGANIZATION":case"CONCEPT":n="#e3ecff",t="#a9c5ff";break;default:n="#fff",t="#fff"}return(0,i.jsxs)("span",{...r,value:c,onClick:e=>e.preventDefault(),className:(0,f.iv)(Z()),style:{backgroundColor:n,border:"1px solid ".concat(t)},children:[(0,i.jsx)(A,{}),s,(0,i.jsx)(A,{})]})},O=e=>{let{attributes:n,children:t,element:r}=e;switch(r.type){case"link":return(0,i.jsx)(LinkComponent,{...e});case"button":return(0,i.jsx)(L,{...e});default:return(0,i.jsx)("p",{...n,children:t})}},U=e=>{let{attributes:n,children:t,leaf:r}=e;return(0,i.jsx)("span",{className:""===r.text?(0,f.iv)(k()):null,...n,children:t})},P=()=>{let e=(0,j.ui)();return(0,i.jsxs)(N,{active:!0,onMouseDown(n){n.preventDefault(),T(e)?S(e):R(e)},children:[(0,i.jsx)(E,{children:(0,i.jsx)("img",{src:"../tag.svg",width:16,height:16})}),(0,i.jsx)("span",{children:"Add Tags"})]})};var W=t(7632);let z=()=>(0,W.Z)();var G=t(7645),M=t(7457),F=t.n(M),I=t(76);let Y=e=>{let{insertData:n,insertText:t,isInline:r}=e;return e.isInline=e=>["link","button"].includes(e.type)||r(e),e.insertText=n=>{n&&isUrl(n)?wrapLink(e,n):t(n)},e.insertData=t=>{let r=t.getData("text/plain");r&&isUrl(r)?wrapLink(e,r):n(t)},e};function J(){let[e,n]=(0,h.useState)([]),[t,s]=(0,h.useState)([]),[l,c]=(0,h.useState)([]),o=(0,a.useRouter)(),d=(0,h.useMemo)(()=>Y((0,G.VC)((0,j.BU)((0,m.Jh)()))),[]);(0,h.useEffect)(()=>{fetch("https://cr8qhi8bu6.execute-api.us-east-1.amazonaws.com/prod/document?ID=4c01f6c4-43a8-4142-910a-a95ed1786299").then(e=>e.json()).then(e=>{console.log(e),n(function(e){let n=e.body,t=n.map(e=>{let n={type:"paragraph",children:[]},t=e[0],r=e[1].entities,i=r.length;if(0==i)return n.children.push({text:t}),n;let s=0,l=0;return r.forEach(e=>{s=e[0];let r=t.slice(l,s);n.children.push({text:r}),l=e[1];let i=t.slice(s,l);n.children.push({type:"button",tag:e[2],value:z(),children:[{text:i}]})}),n});return t}(e))}).catch(e=>{console.log(e.message)})},[]);let u=()=>(0,i.jsxs)(j.mH,{editor:d,value:e,onChange:n,children:[(0,i.jsx)(w,{style:{paddingTop:"16px",textAlign:"right"},children:(0,i.jsx)(P,{})}),(0,i.jsx)(j.CX,{renderElement:e=>(0,i.jsx)(O,{...e}),renderLeaf:e=>(0,i.jsx)(U,{...e}),placeholder:"Enter some text...",onKeyDown:e=>(0,r.default)(e,d),style:{padding:"16px",lineHeight:"1.2em"}})]});return(0,i.jsxs)("div",{className:F().editor,children:[(0,i.jsx)("div",{className:F().txtContainer,children:(0,i.jsx)(u,{})}),(0,i.jsxs)("div",{className:F().options,children:[(0,i.jsxs)("div",{className:F().section,children:[(0,i.jsx)("h3",{children:"Entities"}),(0,i.jsx)("div",{children:(0,i.jsx)(I.Z.Group,{value:t,onChange:s,children:e.map(e=>e.children.map(e=>{if(e.children){let n=e.children[0].text,t=e.value;return(0,i.jsx)(I.Z.Checkbox,{value:t,label:n},t)}}))})}),(0,i.jsxs)("div",{style:{display:"flex"},children:[(0,i.jsx)("button",{onClick:function(){console.log(t);let r=function(e,n){let t=[];return n.forEach(n=>{let r=n.children.map(n=>{let t=n;return e.forEach(e=>{if(n.value===e){let r=n.children[0].text;t={text:r}}}),t});t.push({type:"paragraph",children:r})}),t}(t,e);s([]),n(r)},children:(0,i.jsx)("img",{src:"../trash3.svg",height:16,width:16})}),(0,i.jsxs)("span",{children:[t.length," selected"]})]})]}),(0,i.jsxs)("div",{className:F().section,children:[(0,i.jsx)("h3",{children:"Rules"}),(0,i.jsxs)(I.Z.Group,{gap:4,children:[(0,i.jsx)("select",{data:[],placeholder:"Entity 1"}),(0,i.jsx)("select",{data:[],placeholder:"Relationship"}),(0,i.jsx)("select",{data:[],placeholder:"Entity 2"}),(0,i.jsx)("button",{children:"+"})]}),e.map(e=>e.children.map(e=>{}))]}),(0,i.jsx)("div",{className:F().section,children:(0,i.jsx)("button",{onClick:function(){let n=JSON.stringify(e);console.log(n),window.localStorage.setItem("jsonDoc",n),o.push("/upload/3")},children:"Save and Continue"})})]})]})}function Q(){return(0,i.jsx)("div",{})}var V=t(7765);function X(){let e=(0,a.useRouter)(),n=e.query.step,t=()=>{switch(n){case"1":return(0,i.jsx)(x,{});case"2":return(0,i.jsx)(J,{});case"3":return(0,i.jsx)(Q,{})}};return(0,i.jsxs)("div",{children:[(0,i.jsxs)(l(),{children:[(0,i.jsx)("title",{children:"File ReSort"}),(0,i.jsx)("link",{rel:"icon",href:"../favicon.ico"})]}),(0,i.jsxs)("div",{className:o().container,children:[(0,i.jsxs)("div",{className:o().AppTop,children:[(0,i.jsx)("img",{src:"../logo.png",alt:"logo",width:"58",height:"54"}),(0,i.jsx)("h1",{id:o().header,children:"File ReSort"}),(0,i.jsx)("div",{children:(0,i.jsxs)(V.Z.Group,{ordered:!0,children:[(0,i.jsx)(V.Z,{active:"1"===n,children:(0,i.jsx)(V.Z.Content,{children:(0,i.jsx)(V.Z.Title,{children:"Upload Files"})})}),(0,i.jsx)(V.Z,{active:"2"===n,children:(0,i.jsx)(V.Z.Content,{children:(0,i.jsx)(V.Z.Title,{children:"Review and Edit"})})}),(0,i.jsx)(V.Z,{active:"3"===n,children:(0,i.jsx)(V.Z.Content,{children:(0,i.jsx)(V.Z.Title,{children:"Finalize"})})})]})})]}),(0,i.jsx)("div",{children:(0,i.jsx)(t,{})})]})]})}},7457:function(e){e.exports={editor:"DocEditor_editor__jYru5",txtContainer:"DocEditor_txtContainer__f7TgN",options:"DocEditor_options__QWlPM",section:"DocEditor_section__VEQNQ"}},1320:function(e){e.exports={AppTop:"Upload_AppTop__SGeAW",container:"Upload_container__37BOW",header:"Upload_header__lJ4m7"}}},function(e){e.O(0,[272,700,767,701,774,888,179],function(){return e(e.s=1655)}),_N_E=e.O()}]);